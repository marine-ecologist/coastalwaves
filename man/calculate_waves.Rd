% Generated by roxygen2: do not edit by hand
% Please edit documentation in r/calculate_waves.R
\name{calculate_waves}
\alias{calculate_waves}
\title{Calculate Total and Mean Wave Energy at Coastal Points}
\usage{
calculate_waves(wind, fetch, points, parallel = TRUE, cores = 9)
}
\arguments{
\item{wind}{A \code{data.frame} or \code{tibble} with columns \code{date}, \code{bearing}, and \code{windspeed_ms} (wind speed in m/s).}

\item{fetch}{An \code{sf} object with columns \code{id}, \code{bearing}, and \code{length_km}, typically returned by \code{calculate_fetch()}.}

\item{points}{An \code{sf} object with coastal points and an \code{id} column to join wave energy estimates.}

\item{parallel}{Logical. If \code{TRUE}, enables parallel processing using \code{furrr::future_map_dfr}. Default is \code{TRUE}.}

\item{cores}{Integer. Number of workers to use if parallel is enabled. (Note: must be set via \code{future::plan()} externally.)}
}
\value{
An \code{sf} object with original \code{points} and two new columns:
\itemize{
\item \code{wave_energy}: total cumulative wave energy (arbitrary units).
\item \code{wave_mean}: daily mean wave energy over the time series.
}
}
\description{
This function calculates daily and total wave energy at specified coastal points
using wind data and fetch distances for each directional bearing. Optionally supports parallel processing.
}
\details{
Wave energy is approximated using wind stress scaled by cosine of angular difference between wind and fetch bearing:
\deqn{wave\_energy = \tau \cdot \cos(\theta) \cdot \text{fetch}}
where \eqn{\tau} is wind stress and \eqn{\theta} is angular difference.

Wind stress is calculated using:
\deqn{\tau = 0.001 \cdot (1.1 + 0.035 \cdot U) \cdot U^2}
where \eqn{U} is wind speed in m/s.
}
\examples{
\dontrun{
  future::plan(multisession, workers = 4)
  wave_output <- calculate_waves(wind_df, fetch_sf, points_sf, parallel = TRUE, cores = 4)
}

}
